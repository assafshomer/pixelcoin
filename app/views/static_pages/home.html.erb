<div id="focusArea" onmousemove="getPos(event)" onmouseout="stopTracking()">
  <canvas id="millionbits" width="500" height="500" style="border:1px solid #c3c3c3;">
    | Your browser does not support the HTML5 canvas tag.
  </canvas>
</div>
<p id="displayArea">
</p>
<div>
  <%= @pixels %>
</div>


<script type="text/javascript">
  var c = document.getElementById("millionbits");
  var ctx = c.getContext("2d");
  <% @pixels.each do |pixel| %>
    ctx.fillStyle = "#FF0000";
    ctx.fillRect(<%= pixel[0] %>,<%= pixel[1] %>,<%= pixel[0]+3 %>,<%= pixel[1]+3 %>);
  <% end %>
</script>
<script>
  function getPos(e){
      x=e.clientX;
      y=e.clientY;
      cursor="Your Mouse Position Is : " + x + " and " + y ;
      pixels = " <%= @pixels.as_json.to_s.html_safe %> ";
      // cursor = "Your Bitcoin Address is: "+json(json.length-1);
      document.getElementById("displayArea").innerHTML=cursor
  }

  function stopTracking(){
      document.getElementById("displayArea").innerHTML="";
  }
</script>